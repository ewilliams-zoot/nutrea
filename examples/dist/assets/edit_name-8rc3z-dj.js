import{r as i,j as t,L as g}from"./index-DoviP_xu.js";import{a as f,c as v}from"./generate_names-BehOjVxm.js";import{u as S}from"./use_tree-BcfOwdfO.js";import{u as j}from"./index-DRBfL9gu.js";function N(){const[e,r]=i.useState(null),[p,n]=i.useState({}),c=i.useRef(null),[a,d]=i.useState(()=>f(v(500))),u=i.useCallback((s,l)=>{d({...a,root:{...a.root},[s.id]:{...s,name:l}})},[a]),o=i.useCallback(s=>{r(s.id)},[]),{visibleList:x}=S({data:a.root,getChildren:s=>s.pets?.map(l=>a[l]),expandedState:p,onExpandedStateChange:n,onSelection:o,showRoot:!1}),h=j({getScrollElement:()=>c.current,count:x.length,estimateSize:()=>30,overscan:5});return t.jsxs("div",{children:[t.jsx(g,{to:"/",children:"Go Back Home"}),t.jsx("div",{role:"tree",ref:c,style:{height:"600px",overflow:"auto"},children:t.jsx("div",{style:{position:"relative",height:`${h.getTotalSize()}px`},children:h.getVirtualItems().map(s=>{const l=x[s.index];return t.jsx(b,{node:l,selectedNodeId:e,start:s.start,onChangeName:m=>{u(l,m)}},l.id)})})})]})}const b=({node:e,selectedNodeId:r,start:p,onChangeName:n})=>{const[c,a]=i.useState(!1),d=r===e.id,u=i.useCallback(o=>{a(!1),n(o.target.value)},[n]);return t.jsxs("div",{onClick:e.select,role:"tree-item","aria-expanded":e.isExpanded,"aria-selected":r!==null&&d,style:{paddingLeft:`${e.level*16+8}px`,display:"flex",height:"30px",alignItems:"center",border:e.id===r?"1px dashed blue":void 0,position:"absolute",left:0,top:`${p}px`,width:"100%"},children:[e.hasChildren?t.jsx("button",{onClick:o=>{o.stopPropagation(),e.toggleExpanded()},style:{display:"inline-block",width:"20px",height:"25px",marginRight:"8px"},children:e.isExpanded?"-":"+"}):t.jsx("div",{style:{width:"20px"}}),c?t.jsx("input",{type:"text",onBlur:u,defaultValue:e.name}):t.jsx("span",{onClick:()=>d&&a(!0),children:e.name})]},e.id)};export{N as component};
